<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marble5 - Alinea 5. Conecta todo. Domina la cuadr√≠cula.</title>
    <meta name="description" content="Marble5: juego de puzzles gratis para Android. Alinea 5 bolas del mismo color, planifica tus movimientos y domina la cuadr√≠cula. ¬°√önete a la beta privada!">

    <!-- Canonical & Hreflang -->
    <link rel="canonical" href="https://marble5.app/es/">
    <link rel="alternate" hreflang="fr" href="https://marble5.app/">
    <link rel="alternate" hreflang="en" href="https://marble5.app/en/">
    <link rel="alternate" hreflang="es" href="https://marble5.app/es/">
    <link rel="alternate" hreflang="de" href="https://marble5.app/de/">
    <link rel="alternate" hreflang="x-default" href="https://marble5.app/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://marble5.app/es/">
    <meta property="og:title" content="Marble5 - ¬øEl movimiento perfecto? Es el siguiente.">
    <meta property="og:description" content="El puzzle donde cada jugada prepara la siguiente. ¬°√önete a la beta privada!">
    <meta property="og:image" content="https://marble5.app/feature_graphic_1024x500.jpg">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://marble5.app/es/">
    <meta name="twitter:title" content="Marble5 - ¬øEl movimiento perfecto? Es el siguiente.">
    <meta name="twitter:description" content="El puzzle donde cada jugada prepara la siguiente. ¬°√önete a la beta privada!">
    <meta name="twitter:image" content="https://marble5.app/feature_graphic_1024x500.jpg">

    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/favicon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/favicon-512.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&family=Exo+2:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --bg-deep: #0a0c14;
            --bg-dark: #101420;
            --bg-card: rgba(16, 20, 32, 0.8);
            --marble-red: #e63946;
            --marble-blue: #4895ef;
            --marble-green: #4ade80;
            --marble-yellow: #facc15;
            --marble-orange: #fb923c;
            --marble-cyan: #22d3ee;
            --accent-primary: #4895ef;
            --accent-secondary: #22d3ee;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --glow-blue: rgba(72, 149, 239, 0.5);
        }
        html { scroll-behavior: smooth; }
        body { font-family: 'Exo 2', sans-serif; background: var(--bg-deep); color: var(--text-primary); overflow-x: hidden; line-height: 1.6; }

        /* Header Sticky */
        .sticky-header {
            position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
            background: rgba(10, 12, 20, 0.95); backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255,255,255,0.1);
            transform: translateY(-100%); transition: transform 0.3s ease;
            padding: 0.75rem 1.5rem;
            display: flex; justify-content: space-between; align-items: center;
        }
        .sticky-header.visible { transform: translateY(0); }
        .sticky-header .logo { font-family: 'Quicksand', sans-serif; font-weight: 700; font-size: 1.2rem; color: var(--accent-secondary); text-decoration: none; }
        .sticky-nav { display: flex; gap: 1.5rem; align-items: center; }
        .sticky-nav a { color: var(--text-secondary); text-decoration: none; font-size: 0.85rem; font-weight: 500; transition: color 0.3s ease; }
        .sticky-nav a:hover { color: var(--accent-secondary); }
        .sticky-nav .nav-cta { background: var(--accent-primary); color: white; padding: 0.5rem 1rem; border-radius: 20px; font-weight: 600; }
        .sticky-nav .nav-cta:hover { background: var(--accent-secondary); color: var(--bg-deep); }
        @media (max-width: 768px) {
            .sticky-header { padding: 0.5rem 1rem; }
            .sticky-nav { gap: 0.75rem; }
            .sticky-nav a { font-size: 0.75rem; }
            .sticky-nav .nav-cta { padding: 0.4rem 0.75rem; }
            .nav-hide-mobile { display: none; }
        }

        .hero {
            min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; padding: 2rem; position: relative;
            background: url('../hero-universes.png') center center / cover no-repeat;
            overflow: hidden;
        }
        .hero::before {
            content: ''; position: absolute; inset: 0;
            background: linear-gradient(
                to bottom,
                rgba(10, 12, 20, 0.6) 0%,
                rgba(10, 12, 20, 0.55) 30%,
                rgba(10, 12, 20, 0.5) 60%,
                rgba(10, 12, 20, 0.8) 100%
            );
            z-index: 0;
        }
        .hero-content { position: relative; z-index: 1; max-width: 800px; padding-top: 3rem; }
        .badge-proto {
            display: inline-block; padding: 0.5rem 1.25rem; background: rgba(251, 146, 60, 0.15);
            border: 1px solid var(--marble-orange); border-radius: 25px; font-size: 0.8rem;
            font-weight: 600; color: var(--marble-orange); letter-spacing: 0.1em;
            text-transform: uppercase; margin-bottom: 2rem; animation: fade-down 0.8s ease-out;
        }
        .hero-image {
            width: 280px; max-width: 80vw; height: auto; margin-bottom: 2rem;
            animation: float-slow 6s ease-in-out infinite, fade-up 1s ease-out;
            filter: drop-shadow(0 20px 40px rgba(72, 149, 239, 0.3)); border-radius: 20px;
        }
        .phone-mockup {
            position: relative; width: 200px; max-width: 50vw; margin: 0 auto 2rem auto;
            background: linear-gradient(145deg, #1a1a2e, #16162a);
            border-radius: 30px; padding: 8px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), 0 0 40px rgba(72, 149, 239, 0.2),
                        inset 0 1px 1px rgba(255,255,255,0.1);
            animation: float-slow 6s ease-in-out infinite, fade-up 1s ease-out;
        }
        .phone-mockup::before {
            content: ''; position: absolute; top: 12px; left: 50%; transform: translateX(-50%);
            width: 60px; height: 6px; background: #0a0a14; border-radius: 3px;
        }
        .phone-screen {
            width: 100%; aspect-ratio: 9/16; border-radius: 22px; overflow: hidden;
            background: #000;
        }
        .phone-screen video {
            width: 100%; height: 100%; object-fit: cover;
        }
        @keyframes float-slow { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        .hero h1 {
            font-family: 'Quicksand', sans-serif; font-size: clamp(2.5rem, 8vw, 4rem); font-weight: 900;
            letter-spacing: 0.05em; margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-secondary) 50%, var(--accent-primary) 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
            animation: fade-up 1s ease-out 0.2s both;
            filter: drop-shadow(0 0 20px rgba(72, 149, 239, 0.6)) drop-shadow(0 0 40px rgba(34, 211, 238, 0.4));
        }
        .tagline { font-size: clamp(1.1rem, 3vw, 1.4rem); color: var(--text-secondary); margin-bottom: 2.5rem; animation: fade-up 1s ease-out 0.4s both; line-height: 1.8; text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8), 0 4px 20px rgba(0, 0, 0, 0.6); }
        .tagline strong { color: var(--accent-secondary); font-weight: 600; font-size: clamp(1.2rem, 3.5vw, 1.5rem); text-shadow: 0 2px 10px rgba(0, 0, 0, 0.9), 0 0 30px rgba(34, 211, 238, 0.4); }
        .tagline-sub { color: var(--text-primary); font-size: clamp(1rem, 2.5vw, 1.2rem); text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8), 0 4px 20px rgba(0, 0, 0, 0.6); }
        @keyframes fade-up { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fade-down { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
        .cta-container { display: flex; flex-direction: column; gap: 1rem; align-items: center; animation: fade-up 1s ease-out 0.6s both; }
        .cta-button {
            display: inline-flex; align-items: center; gap: 0.75rem; padding: 1rem 2rem;
            font-family: 'Exo 2', sans-serif; font-size: 1rem; font-weight: 600;
            text-decoration: none; border-radius: 50px; transition: all 0.3s ease; cursor: pointer; border: none;
        }
        .cta-button.primary { background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); color: white; box-shadow: 0 4px 20px var(--glow-blue); }
        .cta-button.primary:hover { transform: translateY(-3px); box-shadow: 0 8px 30px var(--glow-blue); }
        .cta-button.primary.disabled { background: linear-gradient(135deg, #4b5563, #374151); cursor: default; box-shadow: none; }
        .cta-button.primary.disabled:hover { transform: none; }
        .cta-button.secondary { background: transparent; color: var(--text-secondary); border: 1px solid rgba(255,255,255,0.2); }
        .cta-button.secondary:hover { color: var(--text-primary); border-color: var(--accent-secondary); background: rgba(34, 211, 238, 0.1); }
        .coming-soon-text { font-size: 0.85rem; color: var(--marble-orange); margin-top: 0.5rem; }

        .scroll-hint { position: absolute; bottom: 2rem; left: 50%; transform: translateX(-50%); animation: bounce 2s ease-in-out infinite; color: var(--text-muted); }
        @keyframes bounce { 0%, 100% { transform: translateX(-50%) translateY(0); } 50% { transform: translateX(-50%) translateY(10px); } }

        section { padding: 5rem 1.5rem; max-width: 1100px; margin: 0 auto; }
        .section-title { font-family: 'Quicksand', sans-serif; font-size: clamp(1.6rem, 5vw, 2.2rem); text-align: center; margin-bottom: 0.75rem; }
        .section-subtitle { text-align: center; color: var(--text-secondary); margin-bottom: 3rem; font-size: 1.05rem; }

        .concept-section { background: linear-gradient(180deg, transparent 0%, rgba(16, 20, 32, 0.5) 50%, transparent 100%); }
        .concept-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 1.5rem; }
        .concept-card {
            background: var(--bg-card); border: 1px solid rgba(255,255,255,0.08); border-radius: 16px;
            padding: 2rem; text-align: center; transition: all 0.3s ease; position: relative; overflow: hidden;
        }
        .concept-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary)); transform: scaleX(0); transition: transform 0.3s ease; }
        .concept-card:hover { transform: translateY(-5px); border-color: rgba(72, 149, 239, 0.3); box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3); }
        .concept-card:hover::before { transform: scaleX(1); }
        .concept-icon { font-size: 2.5rem; margin-bottom: 1rem; display: block; min-height: 50px; line-height: 50px; }
        .plomb-icon {
            display: inline-block; width: 45px; height: 45px; border-radius: 50%;
            background: radial-gradient(circle at 35% 35%, #c44, #811, #400, #200);
            box-shadow: 0 0 20px rgba(139, 0, 0, 0.6), inset 0 -5px 15px rgba(0,0,0,0.4);
            position: relative; vertical-align: middle;
        }
        .plomb-icon::after {
            content: ''; position: absolute; top: 12%; left: 22%; width: 30%; height: 25%;
            background: radial-gradient(ellipse, rgba(255,255,255,0.5), transparent);
            border-radius: 50%; transform: rotate(-30deg);
        }
        .concept-card h3 { font-family: 'Quicksand', sans-serif; font-size: 1.15rem; margin-bottom: 0.75rem; }
        .concept-card p { color: var(--text-secondary); font-size: 0.95rem; line-height: 1.6; }

        .gallery-section { padding-bottom: 1rem; }

        /* Expandable Gallery */
        .gallery-expand { text-align: center; margin-top: 1.5rem; }
        .gallery-expand-btn {
            display: inline-flex; align-items: center; gap: 0.5rem;
            padding: 0.75rem 1.5rem; background: transparent;
            border: 1px solid rgba(255,255,255,0.2); border-radius: 25px;
            color: var(--text-secondary); font-family: 'Exo 2', sans-serif;
            font-size: 0.9rem; cursor: pointer; transition: all 0.3s ease;
        }
        .gallery-expand-btn:hover { border-color: var(--accent-secondary); color: var(--text-primary); }
        .gallery-expand-btn svg { transition: transform 0.3s ease; }
        .gallery-expand-btn.active svg { transform: rotate(180deg); }

        .gallery-carousel-section {
            max-height: 0; overflow: hidden; opacity: 0;
            transition: max-height 0.5s ease, opacity 0.3s ease, padding 0.3s ease;
            padding: 0 1.5rem;
        }
        .gallery-carousel-section.active {
            max-height: 600px; opacity: 1; padding: 2rem 1.5rem;
        }

        .carousel-container { display: flex; flex-direction: column; align-items: center; gap: 1.5rem; }
        .carousel-phone {
            position: relative; width: 220px; max-width: 60vw;
            background: linear-gradient(145deg, #1a1a2e, #16162a);
            border-radius: 30px; padding: 8px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), 0 0 40px rgba(72, 149, 239, 0.2);
        }
        .carousel-phone::before {
            content: ''; position: absolute; top: 12px; left: 50%; transform: translateX(-50%);
            width: 60px; height: 6px; background: #0a0a14; border-radius: 3px;
        }
        .carousel-screen {
            width: 100%; aspect-ratio: 9/16; border-radius: 22px; overflow: hidden;
            background: #000; position: relative;
        }
        .carousel-screen img {
            width: 100%; height: 100%; object-fit: cover;
            position: absolute; top: 0; left: 0;
            opacity: 0; transition: opacity 0.5s ease;
        }
        .carousel-screen img.active { opacity: 1; }

        .carousel-controls {
            display: flex; align-items: center; gap: 1rem;
        }
        .carousel-btn {
            width: 44px; height: 44px; border-radius: 50%;
            background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1);
            color: var(--text-primary); cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            transition: all 0.3s ease;
        }
        .carousel-btn:hover { border-color: var(--accent-secondary); background: rgba(34, 211, 238, 0.1); }
        .carousel-dots { display: flex; gap: 0.5rem; }
        .carousel-dot {
            width: 8px; height: 8px; border-radius: 50%;
            background: rgba(255,255,255,0.3); border: none; cursor: pointer;
            transition: all 0.3s ease;
        }
        .carousel-dot.active { background: var(--accent-secondary); transform: scale(1.3); }
        .carousel-label {
            font-size: 0.9rem; color: var(--text-secondary);
            margin-top: 0.5rem; text-align: center;
        }
        .gallery-container { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; }
        .gallery-item { position: relative; border-radius: 12px; overflow: hidden; aspect-ratio: 9/16; cursor: pointer; transition: transform 0.3s ease; }
        .gallery-item:hover { transform: scale(1.03); }
        .gallery-item img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease; }
        .gallery-item:hover img { transform: scale(1.1); }
        .gallery-item::after { content: ''; position: absolute; inset: 0; background: linear-gradient(to top, rgba(10, 12, 20, 0.7) 0%, transparent 50%); pointer-events: none; }
        .gallery-label { position: absolute; bottom: 0.75rem; left: 0.75rem; font-size: 0.8rem; font-weight: 500; color: var(--text-primary); z-index: 1; }
        @media (max-width: 600px) { .gallery-container { grid-template-columns: 1fr; max-width: 300px; margin: 0 auto; } }

        .modes-section { background: linear-gradient(180deg, transparent 0%, rgba(16, 20, 32, 0.3) 50%, transparent 100%); }
        .modes-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; }
        .mode-card { padding: 2rem; border-radius: 16px; }
        .mode-card.zen { background: linear-gradient(135deg, rgba(34, 211, 238, 0.1), rgba(74, 222, 128, 0.05)); border: 1px solid rgba(34, 211, 238, 0.25); }
        .mode-card.challenge { background: linear-gradient(135deg, rgba(251, 146, 60, 0.1), rgba(230, 57, 70, 0.05)); border: 1px solid rgba(251, 146, 60, 0.25); }
        .mode-icon { font-size: 2.5rem; margin-bottom: 1rem; }
        .mode-card h3 { font-family: 'Quicksand', sans-serif; font-size: 1.3rem; margin-bottom: 1rem; }
        .mode-card.zen h3 { color: var(--accent-secondary); }
        .mode-card.challenge h3 { color: var(--marble-orange); }
        .mode-card ul { list-style: none; color: var(--text-secondary); }
        .mode-card li { padding: 0.4rem 0; padding-left: 1.5rem; position: relative; font-size: 0.95rem; }
        .mode-card li::before { content: '‚Üí'; position: absolute; left: 0; }
        .mode-card.zen li::before { color: var(--accent-secondary); }
        .mode-card.challenge li::before { color: var(--marble-orange); }

        /* Beta Section */
        .beta-section { padding: 5rem 1.5rem; background: linear-gradient(180deg, rgba(72, 149, 239, 0.05) 0%, rgba(16, 20, 32, 0.8) 50%, rgba(72, 149, 239, 0.05) 100%); }
        .beta-container { max-width: 900px; margin: 0 auto; }
        .beta-header { text-align: center; margin-bottom: 3rem; }
        .beta-badge { display: inline-block; padding: 0.5rem 1.25rem; background: rgba(72, 149, 239, 0.15); border: 1px solid var(--accent-primary); border-radius: 25px; font-size: 0.75rem; font-weight: 700; color: var(--accent-primary); letter-spacing: 0.15em; margin-bottom: 1.5rem; }
        .beta-title { font-family: 'Quicksand', sans-serif; font-size: clamp(1.6rem, 5vw, 2.2rem); margin-bottom: 1rem; }
        .beta-intro { color: var(--text-secondary); font-size: 1.1rem; }
        .beta-intro strong { color: var(--accent-secondary); }
        .beta-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 1.5rem; margin-bottom: 3rem; }
        .beta-card { background: var(--bg-card); border: 1px solid rgba(255,255,255,0.08); border-radius: 16px; padding: 2rem; transition: all 0.3s ease; }
        .beta-card:hover { transform: translateY(-5px); border-color: rgba(72, 149, 239, 0.3); box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3); }
        .beta-card.highlight { background: linear-gradient(135deg, rgba(72, 149, 239, 0.1), rgba(34, 211, 238, 0.05)); border-color: rgba(72, 149, 239, 0.3); }
        .beta-card-icon { font-size: 2rem; margin-bottom: 1rem; }
        .beta-card h3 { font-family: 'Quicksand', sans-serif; font-size: 1.1rem; margin-bottom: 1rem; color: var(--text-primary); }
        .beta-card p { color: var(--text-secondary); font-size: 0.95rem; line-height: 1.7; }
        .beta-card p a { color: var(--accent-secondary); font-weight: 600; }
        .beta-card p a:hover { text-decoration: underline; }
        .beta-card ul { list-style: none; color: var(--text-secondary); }
        .beta-card li { padding: 0.4rem 0; padding-left: 1.5rem; position: relative; font-size: 0.95rem; }
        .beta-card li::before { content: '‚Üí'; position: absolute; left: 0; color: var(--accent-secondary); }
        .beta-card li strong { color: var(--text-primary); }
        .beta-footer { text-align: center; }
        .beta-stats { display: flex; justify-content: center; gap: 3rem; margin-bottom: 2rem; flex-wrap: wrap; }
        .stat { display: flex; flex-direction: column; align-items: center; }
        .stat-number { font-family: 'Quicksand', sans-serif; font-size: 2.5rem; font-weight: 700; background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .stat-label { font-size: 0.85rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; }
        .beta-note { display: inline-block; padding: 1rem 1.5rem; background: rgba(251, 146, 60, 0.1); border: 1px solid rgba(251, 146, 60, 0.3); border-radius: 12px; color: var(--text-secondary); font-size: 0.9rem; }
        .beta-note strong { color: var(--marble-orange); }
        @media (max-width: 768px) { .beta-stats { gap: 2rem; } .stat-number { font-size: 2rem; } }

        .feedback-section { text-align: center; background: linear-gradient(180deg, transparent 0%, rgba(72, 149, 239, 0.08) 50%, transparent 100%); }
        .feedback-box { max-width: 500px; margin: 0 auto; padding: 2.5rem 2rem; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.08); border-radius: 16px; }
        .feedback-box p { color: var(--text-secondary); margin-bottom: 1.5rem; font-size: 1.05rem; }
        .feedback-box .coming-soon-text { color: var(--marble-orange); margin-bottom: 0; font-size: 0.85rem; }

        .rules-section { background: linear-gradient(180deg, transparent 0%, rgba(16, 20, 32, 0.3) 50%, transparent 100%); }
        .accordion-container { max-width: 600px; margin: 0 auto; }
        .accordion { margin-bottom: 1rem; border-radius: 12px; overflow: hidden; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.08); }
        .accordion-header {
            width: 100%; padding: 1.25rem 1.5rem; display: flex; justify-content: space-between; align-items: center;
            background: transparent; border: none; color: var(--text-primary); font-family: 'Quicksand', sans-serif;
            font-size: 1.05rem; font-weight: 600; cursor: pointer; transition: background 0.3s ease; text-align: left;
        }
        .accordion-header:hover { background: rgba(72, 149, 239, 0.1); }
        .accordion-icon { font-size: 1.5rem; color: var(--accent-secondary); transition: transform 0.3s ease; }
        .accordion.active .accordion-icon { transform: rotate(45deg); }
        .accordion-content {
            max-height: 0; overflow: hidden; transition: max-height 0.3s ease, padding 0.3s ease;
            padding: 0 1.5rem; color: var(--text-secondary); font-size: 0.95rem; line-height: 1.7;
        }
        .accordion.active .accordion-content { max-height: 500px; padding: 0 1.5rem 1.5rem; }
        .accordion-content p { margin-bottom: 0.75rem; }
        .accordion-content strong { color: var(--text-primary); }
        .scoring-list { list-style: none; margin: 0.75rem 0; padding-left: 1rem; }
        .scoring-list li { padding: 0.25rem 0; }
        .scoring-list li::before { content: '‚Üí '; color: var(--accent-secondary); }

        .about-section { text-align: center; }
        .studio-content { display: flex; flex-direction: column; align-items: center; gap: 1rem; text-align: center; }
        .studio-banner { width: 100%; max-width: 400px; height: auto; border-radius: 12px; }
        @media (max-width: 600px) {
            .studio-banner { max-width: 300px; }
        }
        .about-box { max-width: 550px; margin: 0 auto; padding: 2rem; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.08); border-radius: 16px; }
        .about-box p { color: var(--text-secondary); margin-bottom: 1rem; font-size: 1rem; line-height: 1.7; }
        .about-box strong { color: var(--text-primary); }
        .contact-link {
            display: inline-block; margin-top: 1rem; padding: 0.75rem 1.5rem;
            color: var(--accent-secondary); text-decoration: none; font-weight: 600;
            border: 1px solid var(--accent-secondary); border-radius: 25px;
            transition: all 0.3s ease;
        }
        .contact-link:hover { background: rgba(34, 211, 238, 0.1); }

        /* Contact Section */
        .contact-section { text-align: center; }
        .contact-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem; max-width: 700px; margin: 0 auto;
        }
        .contact-card {
            display: flex; flex-direction: column; align-items: center; gap: 0.75rem;
            padding: 1.5rem 1rem; background: var(--bg-card);
            border: 1px solid rgba(255,255,255,0.08); border-radius: 12px;
            text-decoration: none; color: var(--text-primary);
            transition: all 0.3s ease; cursor: pointer;
        }
        .contact-card:hover {
            transform: translateY(-3px); border-color: rgba(72, 149, 239, 0.4);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        .contact-card-icon { font-size: 1.75rem; }
        .contact-card-title { font-family: 'Quicksand', sans-serif; font-weight: 600; font-size: 0.95rem; }
        .contact-card-desc { font-size: 0.8rem; color: var(--text-muted); }
        .contact-card.highlight {
            background: linear-gradient(135deg, rgba(251, 146, 60, 0.15), rgba(230, 57, 70, 0.08));
            border-color: rgba(251, 146, 60, 0.4);
        }
        .contact-card.highlight:hover { border-color: var(--marble-orange); box-shadow: 0 10px 30px rgba(251, 146, 60, 0.2); }
        .contact-card.highlight .contact-card-title { color: var(--marble-orange); }
        .contact-card-link {
            display: inline-block;
            margin-top: 0.6rem;
            padding: 0.25rem 0.6rem;
            font-size: 0.7rem;
            background: rgba(251, 146, 60, 0.15);
            color: var(--marble-orange);
            border-radius: 12px;
            text-decoration: none;
            transition: background 0.2s ease;
        }
        .contact-card-link:hover { background: rgba(251, 146, 60, 0.25); }
        @media (max-width: 500px) { .contact-grid { grid-template-columns: 1fr 1fr; } }

        /* Modal Form Styles */
        .modal-overlay {
            position: fixed; inset: 0; z-index: 2000;
            background: rgba(0, 0, 0, 0.85);
            display: flex; justify-content: center; align-items: center;
            opacity: 0; visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            padding: 1rem;
        }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        .modal-content {
            background: var(--bg-dark);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            max-width: 500px; width: 100%;
            max-height: 90vh; overflow-y: auto;
            position: relative;
            animation: modal-appear 0.3s ease;
        }
        @keyframes modal-appear {
            from { opacity: 0; transform: translateY(-20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        .modal-header { padding: 1.5rem 2rem; border-bottom: 1px solid rgba(255,255,255,0.08); display: flex; justify-content: space-between; align-items: center; }
        .modal-header h3 { font-family: 'Quicksand', sans-serif; font-size: 1.3rem; margin: 0; background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .modal-close { background: none; border: none; color: var(--text-muted); font-size: 1.5rem; cursor: pointer; padding: 0.5rem; transition: color 0.3s ease; }
        .modal-close:hover { color: var(--text-primary); }
        .modal-body { padding: 2rem; }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; font-size: 0.9rem; font-weight: 500; color: var(--text-secondary); }
        .form-group label .required { color: var(--marble-orange); }
        .form-input, .form-select, .form-textarea { width: 100%; padding: 0.875rem 1rem; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; color: var(--text-primary); font-family: 'Exo 2', sans-serif; font-size: 1rem; transition: border-color 0.3s ease, box-shadow 0.3s ease; }
        .form-input:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: var(--accent-primary); box-shadow: 0 0 0 3px rgba(72, 149, 239, 0.2); }
        .form-input::placeholder, .form-textarea::placeholder { color: var(--text-muted); }
        .form-select { cursor: pointer; }
        .form-select option { background: var(--bg-dark); color: var(--text-primary); }
        .form-textarea { min-height: 100px; resize: vertical; }
        .checkbox-group { display: flex; flex-wrap: wrap; gap: 0.75rem; }
        .checkbox-item { display: flex; align-items: center; gap: 0.5rem; padding: 0.6rem 1rem; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; cursor: pointer; transition: all 0.3s ease; }
        .checkbox-item:hover { border-color: rgba(72, 149, 239, 0.4); }
        .checkbox-item.checked { border-color: var(--accent-secondary); background: rgba(34, 211, 238, 0.25); box-shadow: 0 0 12px rgba(34, 211, 238, 0.3), inset 0 0 8px rgba(34, 211, 238, 0.15); }
        .checkbox-item input { display: none; }
        .checkbox-item span { font-size: 0.9rem; color: var(--text-secondary); }
        .checkbox-item.checked span { color: var(--text-primary); }
        .profile-scale { display: flex; flex-direction: column; gap: 0.5rem; }
        .scale-labels { display: flex; justify-content: space-between; font-size: 0.75rem; color: var(--text-muted); }
        .scale-options { display: flex; gap: 0.5rem; }
        .scale-option { flex: 1; padding: 0.75rem 0.5rem; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; text-align: center; cursor: pointer; transition: all 0.3s ease; }
        .scale-option:hover { border-color: rgba(72, 149, 239, 0.4); }
        .scale-option.selected { border-color: var(--accent-secondary); background: rgba(34, 211, 238, 0.3); box-shadow: 0 0 12px rgba(34, 211, 238, 0.4), inset 0 0 8px rgba(34, 211, 238, 0.2); }
        .scale-option input { display: none; }
        .scale-option .scale-number { display: block; font-size: 1.2rem; font-weight: 700; color: var(--text-muted); transition: color 0.3s ease; }
        .scale-option.selected .scale-number { color: var(--accent-secondary); }
        .scale-option .scale-emoji { display: block; font-size: 1.1rem; margin-top: 0.25rem; }
        .form-submit { width: 100%; padding: 1rem; background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)); border: none; border-radius: 12px; color: white; font-family: 'Exo 2', sans-serif; font-size: 1rem; font-weight: 600; cursor: pointer; transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .form-submit:hover { transform: translateY(-2px); box-shadow: 0 8px 25px var(--glow-blue); }
        .form-submit:disabled { background: linear-gradient(135deg, #4b5563, #374151); cursor: not-allowed; transform: none; box-shadow: none; }
        .form-message { padding: 1rem; border-radius: 10px; margin-bottom: 1.5rem; text-align: center; display: none; }
        .form-message.success { display: block; background: rgba(74, 222, 128, 0.15); border: 1px solid var(--marble-green); color: var(--marble-green); }
        .form-message.error { display: block; background: rgba(230, 57, 70, 0.15); border: 1px solid var(--marble-red); color: var(--marble-red); }
        .modal-success-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: var(--bg-card); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 100; border-radius: 20px; animation: successFadeIn 0.3s ease; }
        .modal-success-overlay .success-icon { font-size: 4rem; margin-bottom: 1rem; animation: successPop 0.4s ease; }
        .modal-success-overlay .success-text { font-size: 1.5rem; font-weight: 600; color: var(--marble-green); }
        @keyframes successFadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes successPop { 0% { transform: scale(0); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
        @media (max-width: 500px) { .modal-content { border-radius: 16px; } .modal-header, .modal-body { padding: 1.25rem; } .checkbox-group { gap: 0.5rem; } .checkbox-item { padding: 0.5rem 0.75rem; } .scale-option { padding: 0.6rem 0.25rem; } .scale-option .scale-number { font-size: 1rem; } .scale-option .scale-emoji { font-size: 0.9rem; } }

        footer { text-align: center; padding: 3rem 1.5rem; border-top: 1px solid rgba(255,255,255,0.05); background: var(--bg-dark); }
        .footer-logo { width: 150px; height: 150px; margin: 0 auto 1rem; }
        .footer-logo img { width: 100%; height: 100%; object-fit: contain; }
        .footer-studio { font-family: 'Quicksand', sans-serif; font-size: 1rem; color: var(--text-secondary); margin-bottom: 1.5rem; }
        .footer-links { display: flex; justify-content: center; gap: 2rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
        .footer-links a { color: var(--text-muted); text-decoration: none; font-size: 0.9rem; transition: color 0.3s ease; }
        .footer-links a:hover { color: var(--accent-secondary); }
        .footer-copy { font-size: 0.8rem; color: var(--text-muted); }

        /* Language Switcher */
        .lang-switcher {
            position: fixed; top: 0.75rem; right: 1.5rem; z-index: 999;
            display: flex; gap: 0.5rem; padding: 0.5rem 0.75rem;
            background: rgba(0, 0, 0, 0.5); border-radius: 25px;
            border: 1px solid rgba(255,255,255,0.2);
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .lang-switcher.hidden { opacity: 0; visibility: hidden; pointer-events: none; }
        .lang-switcher-inline {
            display: flex; gap: 0.4rem; margin-left: 0.75rem; padding-left: 0.75rem;
            border-left: 1px solid rgba(255,255,255,0.15);
        }
        .lang-switcher-inline .lang-flag { padding: 0.3rem 0.5rem; font-size: 0.7rem; }
        .lang-flag {
            padding: 0.4rem 0.6rem; border-radius: 6px; cursor: pointer;
            border: 2px solid transparent; transition: all 0.3s ease;
            font-size: 0.75rem; font-weight: 600; text-decoration: none;
            color: var(--text-muted); text-transform: uppercase;
            font-family: 'Exo 2', sans-serif;
        }
        .lang-flag:hover { color: var(--text-primary); transform: scale(1.05); }
        .lang-flag.active { border-color: var(--accent-secondary); color: var(--accent-secondary); box-shadow: 0 0 10px var(--glow-blue); }

        @media (max-width: 768px) { section { padding: 3.5rem 1.25rem; } .hero { padding: 1.5rem; } .hero-image { width: 220px; } }
    </style>
    <script>
        // Language detection and redirect
        (function() {
            const savedLang = localStorage.getItem('marble5-lang');
            if (savedLang && savedLang !== 'es') {
                const langPaths = { 'fr': '../index.html', 'en': '../en/index.html', 'de': '../de/index.html' };
                if (langPaths[savedLang]) window.location.href = langPaths[savedLang];
            } else if (!savedLang) {
                const browserLang = (navigator.language || navigator.userLanguage).toLowerCase();
                if (browserLang.startsWith('fr')) {
                    window.location.href = '../index.html';
                } else if (browserLang.startsWith('de')) {
                    window.location.href = '../de/index.html';
                } else if (!browserLang.startsWith('es')) {
                    window.location.href = '../en/index.html';
                } else {
                    localStorage.setItem('marble5-lang', 'es');
                }
            }
        })();
    </script>

    <!-- Structured Data / Schema.org -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "MobileApplication",
        "name": "Marble5",
        "operatingSystem": "Android",
        "applicationCategory": "GameApplication",
        "applicationSubCategory": "Puzzle",
        "description": "Juego de puzzles estrat√©gico donde alineas 5 bolas del mismo color para sumar puntos. ¬°Planifica tus movimientos y domina la cuadr√≠cula!",
        "url": "https://marble5.app",
        "image": "https://marble5.app/feature_graphic_1024x500.jpg",
        "author": {
            "@type": "Organization",
            "name": "One Last Move Studio",
            "url": "https://marble5.app"
        },
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "EUR",
            "availability": "https://schema.org/PreOrder"
        },
        "inLanguage": ["fr", "en", "es", "de"]
    }
    </script>
</head>
<body>

    <!-- Header Sticky -->
    <header class="sticky-header" id="stickyHeader">
        <a href="#" class="logo">MARBLE5</a>
        <nav class="sticky-nav">
            <a href="#concept" class="nav-hide-mobile">El Juego</a>
            <a href="#rules" class="nav-hide-mobile">Reglas</a>
            <a href="#contact">Contacto</a>
            <a href="#beta" class="nav-cta">Inscribirse</a>
            <div class="lang-switcher-inline">
                <a href="/" class="lang-flag" onclick="localStorage.setItem('marble5-lang', 'fr')">FR</a>
                <a href="/en/" class="lang-flag" onclick="localStorage.setItem('marble5-lang', 'en')">EN</a>
                <a href="/es/" class="lang-flag active" onclick="localStorage.setItem('marble5-lang', 'es')">ES</a>
                <a href="/de/" class="lang-flag" onclick="localStorage.setItem('marble5-lang', 'de')">DE</a>
            </div>
        </nav>
    </header>

    <section class="hero">
        <div class="hero-content">
            <div class="badge-proto" style="background: rgba(74, 222, 128, 0.15); border-color: var(--marble-green); color: var(--marble-green);">üì± Beta privada abierta</div>

            <h1>MARBLE5</h1>

            <div class="phone-mockup">
                <div class="phone-screen">
                    <video autoplay loop muted playsinline>
                        <source src="../Hero_movie.mp4" type="video/mp4">
                    </video>
                </div>
            </div>

            <p class="tagline"><strong>Alinea. Anticipa. Encadena.</strong><br><span class="tagline-sub">¬øEl movimiento perfecto? Es el siguiente.</span></p>

            <div class="beta-announcement" style="margin: 1.5rem 0; animation: fade-up 1s ease-out 0.5s both;">
                <p style="color: var(--marble-green); font-weight: 600; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.1em;">üéâ ¬°La Beta privada est√° abierta!</p>
                <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 0.5rem;">Disponible en smartphones Android</p>
            </div>

            <div class="cta-container">
                <button class="cta-button primary" onclick="openModal('betaModal')">
                    üì± Unirse a la Beta privada
                </button>
                <span class="coming-soon-text"><span id="places-counter">‚è≥ Cargando...</span></span>
                <a href="#concept" class="cta-button secondary">Descubrir el juego ‚Üì</a>
            </div>
        </div>
    </section>

    <section class="concept-section" id="concept">
        <h2 class="section-title">El Concepto</h2>
        <p class="section-subtitle">Un puzzle f√°cil de entender, dif√≠cil de dominar</p>
        <div class="concept-grid">
            <div class="concept-card">
                <span class="concept-icon">üéØ</span>
                <h3>Forma Quinas</h3>
                <p>Alinea 5 canicas horizontal, vertical o diagonalmente. Cada quina te da puntos y recarga tu reserva.</p>
            </div>
            <div class="concept-card">
                <span class="concept-icon plomb-icon"></span>
                <h3>Gestiona los Bloqueadores</h3>
                <p>Estos obst√°culos aparecen regularmente y bloquean tus alineaciones. Anticipa su posici√≥n para sobrevivir m√°s tiempo.</p>
            </div>
            <div class="concept-card">
                <span class="concept-icon">‚≠ê</span>
                <h3>Consigue 3 Estrellas</h3>
                <p>30 niveles progresivos te esperan. Alcanza los umbrales de puntuaci√≥n para desbloquear m√°s y apunta a la perfecci√≥n.</p>
            </div>
        </div>
    </section>

    <section class="gallery-section">
        <h2 class="section-title">Vista Previa del Juego</h2>
        <p class="section-subtitle">3 mundos, 30 niveles, dificultad creciente</p>
        <div class="gallery-container">
            <div class="gallery-item">
                <img src="../images/screenshots/screenshot_foret.webp" alt="Niveles Bosque">
                <span class="gallery-label">üå≤ Bosque ¬∑ Niveles 1-10</span>
            </div>
            <div class="gallery-item">
                <img src="../images/screenshots/screenshot_ruines.webp" alt="Niveles Ruinas">
                <span class="gallery-label">üèõÔ∏è Ruinas ¬∑ Niveles 11-20</span>
            </div>
            <div class="gallery-item">
                <img src="../images/screenshots/screenshot_espace.webp" alt="Niveles Espacio">
                <span class="gallery-label">üåå Espacio ¬∑ Niveles 21-30</span>
            </div>
        </div>
        <div class="gallery-expand">
            <button class="gallery-expand-btn" id="expandGalleryBtn">
                Ver m√°s fondos
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
            </button>
        </div>
        <div class="gallery-carousel-section" id="galleryCarousel">
            <div class="carousel-container">
                <div class="carousel-phone">
                    <div class="carousel-screen">
                        <img src="../images/backgrounds/ForestBG_4.jpg" alt="Bosque 1" class="active" data-theme="üå≤ Bosque">
                        <img src="../images/backgrounds/ForestBG_5.jpg" alt="Bosque 2" data-theme="üå≤ Bosque">
                        <img src="../images/backgrounds/ForestBG_9.jpg" alt="Bosque 3" data-theme="üå≤ Bosque">
                        <img src="../images/backgrounds/RuinBG_2.jpg" alt="Ruinas 1" data-theme="üèõÔ∏è Ruinas">
                        <img src="../images/backgrounds/RuinBG_5.jpg" alt="Ruinas 2" data-theme="üèõÔ∏è Ruinas">
                        <img src="../images/backgrounds/RuinBG_9.jpg" alt="Ruinas 3" data-theme="üèõÔ∏è Ruinas">
                        <img src="../images/backgrounds/SpaceBG_02.jpg" alt="Espacio 1" data-theme="üåå Espacio">
                        <img src="../images/backgrounds/SpaceBG_06.jpg" alt="Espacio 2" data-theme="üåå Espacio">
                        <img src="../images/backgrounds/SpaceBG_10.jpg" alt="Espacio 3" data-theme="üåå Espacio">
                    </div>
                </div>
                <div class="carousel-controls">
                    <button class="carousel-btn" id="prevBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg>
                    </button>
                    <div class="carousel-dots" id="carouselDots"></div>
                    <button class="carousel-btn" id="nextBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg>
                    </button>
                </div>
                <p class="carousel-label" id="carouselLabel">üå≤ Bosque</p>
            </div>
        </div>
    </section>

    <section class="rules-section" id="rules">
        <h2 class="section-title">Las Reglas</h2>
        <p class="section-subtitle">Todo lo que necesitas saber para jugar</p>

        <div class="accordion-container">
            <div class="accordion">
                <button class="accordion-header">
                    <span>üéÆ C√≥mo Jugar</span>
                    <span class="accordion-icon">+</span>
                </button>
                <div class="accordion-content">
                    <p><strong>El objetivo:</strong> Usar las canicas de tu reserva para formar quinas (alineaciones de 5 canicas).</p>
                    <p><strong>Colocar una canica:</strong> Toca una casilla adyacente a una canica ya colocada (horizontal, vertical o diagonal).</p>
                    <p><strong>La reserva:</strong> Tus canicas disponibles aparecen en la parte inferior de la pantalla. ¬°Cuando est√° vac√≠a, el nivel termina!</p>
                </div>
            </div>

            <div class="accordion">
                <button class="accordion-header">
                    <span>‚ú® Quinas y Enlaces</span>
                    <span class="accordion-icon">+</span>
                </button>
                <div class="accordion-content">
                    <p><strong>Una quina:</strong> 5 canicas alineadas (horizontal, vertical o diagonal). La quina se valida y ganas puntos + canicas bonus.</p>
                    <p><strong>Quinas m√∫ltiples:</strong> Una sola canica bien colocada puede formar varias quinas a la vez. ¬°Cuantas m√°s hagas, m√°s puntos ganas!</p>
                    <p><strong>Los enlaces:</strong> Cada conexi√≥n entre dos canicas solo puede usarse una vez para formar una quina.</p>
                </div>
            </div>

            <div class="accordion">
                <button class="accordion-header">
                    <span>üí£ Los Bloqueadores</span>
                    <span class="accordion-icon">+</span>
                </button>
                <div class="accordion-content">
                    <p><strong>Qu√© son:</strong> Obst√°culos (canicas rojas) que aparecen regularmente en la cuadr√≠cula seg√∫n el nivel de dificultad.</p>
                    <p><strong>El peligro:</strong> Bloquean tus alineaciones y ocupan espacio.</p>
                    <p><strong>Consejo:</strong> ¬°Puedes sacrificar una canica para controlar d√≥nde aparecer√° el pr√≥ximo bloqueador!</p>
                </div>
            </div>

            <div class="accordion">
                <button class="accordion-header">
                    <span>üèÜ Puntuaci√≥n y Estrellas</span>
                    <span class="accordion-icon">+</span>
                </button>
                <div class="accordion-content">
                    <p><strong>Puntos por turno:</strong></p>
                    <ul class="scoring-list">
                        <li>1 quina ‚Üí 1 punto, +1 canica</li>
                        <li>2 quinas ‚Üí 3 puntos, +2 canicas</li>
                        <li>3 quinas ‚Üí 5 puntos, +3 canicas</li>
                        <li>4 quinas ‚Üí 8 puntos, +4 canicas</li>
                        <li>5 quinas ‚Üí 13 puntos, +5 canicas</li>
                    </ul>
                    <p><strong>Estrellas:</strong> Cada nivel tiene 3 umbrales de puntuaci√≥n. Necesitas al menos dos <span style="color: gold;">‚òÖ‚òÖ</span> para desbloquear el siguiente nivel.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="modes-section">
        <h2 class="section-title">Tu Estilo de Juego</h2>
        <p class="section-subtitle">¬øRelajaci√≥n o desaf√≠o? T√∫ eliges.</p>
        <div class="modes-grid">
            <div class="mode-card zen">
                <div class="mode-icon">üßò</div>
                <h3>Modo Zen</h3>
                <ul><li>F√°cil de aprender</li><li>Ritmo relajado y tranquilo</li><li>Disfruta viendo la cuadr√≠cula construirse</li><li>Perfecto para desconectar</li></ul>
            </div>
            <div class="mode-card challenge">
                <div class="mode-icon">üî•</div>
                <h3>Modo Desaf√≠o</h3>
                <ul><li>Lectura avanzada de la cuadr√≠cula</li><li>Anticipaci√≥n de bloqueadores</li><li>Gesti√≥n cuidadosa de la reserva</li><li>Caza las <span style="color: gold;">‚òÖ‚òÖ‚òÖ</span> en 30 niveles</li></ul>
            </div>
        </div>
    </section>

    <section class="beta-section" id="beta">
        <div class="beta-container">
            <div class="beta-header">
                <div class="beta-badge" style="background: rgba(74, 222, 128, 0.15); border-color: var(--marble-green); color: var(--marble-green);">üì± BETA PRIVADA ABIERTA</div>
                <h2 class="beta-title">¬°√önete a la Beta privada!</h2>
                <p class="beta-intro">S√© uno de los <strong>primeros 100 jugadores</strong> en descubrir Marble5 en tu smartphone Android.</p>
            </div>

            <!-- Mini Roadmap -->
            <div class="roadmap" style="display: flex; justify-content: center; align-items: center; gap: 0.5rem; flex-wrap: wrap; margin-bottom: 2.5rem; padding: 1.5rem; background: var(--bg-card); border-radius: 16px; border: 1px solid rgba(255,255,255,0.08);">
                <div style="display: flex; flex-direction: column; align-items: center; padding: 0.75rem 1rem;">
                    <span style="font-size: 1.5rem;">üì±</span>
                    <span style="font-size: 0.75rem; font-weight: 600; color: var(--marble-green); margin-top: 0.25rem;">Smartphones</span>
                    <span style="font-size: 0.65rem; color: var(--marble-green);">‚úì Ahora</span>
                </div>
                <span style="color: var(--text-muted); font-size: 1.2rem;">‚Üí</span>
                <div style="display: flex; flex-direction: column; align-items: center; padding: 0.75rem 1rem;">
                    <span style="font-size: 1.5rem;">üìü</span>
                    <span style="font-size: 0.75rem; font-weight: 600; color: var(--text-secondary); margin-top: 0.25rem;">Tablets Android</span>
                    <span style="font-size: 0.65rem; color: var(--text-muted);">Pr√≥ximamente</span>
                </div>
                <span style="color: var(--text-muted); font-size: 1.2rem;">‚Üí</span>
                <div style="display: flex; flex-direction: column; align-items: center; padding: 0.75rem 1rem;">
                    <span style="font-size: 1.5rem;">üçé</span>
                    <span style="font-size: 0.75rem; font-weight: 600; color: var(--text-secondary); margin-top: 0.25rem;">iPhone</span>
                    <span style="font-size: 0.65rem; color: var(--text-muted);">M√°s tarde</span>
                </div>
                <span style="color: var(--text-muted); font-size: 1.2rem;">‚Üí</span>
                <div style="display: flex; flex-direction: column; align-items: center; padding: 0.75rem 1rem;">
                    <span style="font-size: 1.5rem;">üì±</span>
                    <span style="font-size: 0.75rem; font-weight: 600; color: var(--text-secondary); margin-top: 0.25rem;">iPad</span>
                    <span style="font-size: 0.65rem; color: var(--text-muted);">M√°s tarde</span>
                </div>
            </div>

            <div class="beta-grid">
                <div class="beta-card">
                    <div class="beta-card-icon">üì±</div>
                    <h3>Disponible en Google Play</h3>
                    <p>El juego se distribuye a trav√©s de Google Play. <a href="#" onclick="openModal('betaModal'); return false;" style="color: var(--marble-green); font-weight: 600;">Reg√≠strate</a> para recibir tu enlace de invitaci√≥n!</p>
                </div>

                <div class="beta-card">
                    <div class="beta-card-icon">üî¨</div>
                    <h3>¬øPor qu√© esta fase?</h3>
                    <ul>
                        <li>Identificar <strong>bugs y anomal√≠as</strong> antes del lanzamiento</li>
                        <li>Probar la <strong>compatibilidad</strong> en diferentes dispositivos Android</li>
                        <li>Validar el <strong>equilibrio</strong> de los 30 niveles</li>
                        <li>Optimizar el <strong>rendimiento</strong> del juego</li>
                    </ul>
                </div>

                <div class="beta-card highlight">
                    <div class="beta-card-icon">üí¨</div>
                    <h3>Lo que esperamos de ti</h3>
                    <ul>
                        <li>Decirnos si el juego <strong>te gusta</strong> (¬°o no!)</li>
                        <li>Reportar cualquier <strong>comportamiento extra√±o</strong> o crashes</li>
                        <li>Compartir tus ideas de <strong>mejoras</strong></li>
                        <li>Indicarnos tu <strong>modelo de tel√©fono</strong> si hay problemas</li>
                    </ul>
                </div>
            </div>

            <div class="beta-footer">
                <div class="beta-stats">
                    <div class="stat">
                        <span class="stat-number">100</span>
                        <span class="stat-label">Plazas disponibles</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">30</span>
                        <span class="stat-label">Niveles jugables</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">100%</span>
                        <span class="stat-label">Gratis</span>
                    </div>
                </div>
                <p class="beta-note" style="background: rgba(74, 222, 128, 0.1); border-color: rgba(74, 222, 128, 0.3);"><strong style="color: var(--marble-green);">üì± Smartphones Android</strong> ‚Äî ¬°Tablets e iOS pr√≥ximamente!</p>
            </div>
        </div>
    </section>

    <section class="feedback-section">
        <h2 class="section-title">Tu Opini√≥n Importa</h2>
        <div class="feedback-box">
            <p>¬øHas probado Marble5?<br>¬°Ay√∫danos a mejorar el juego compartiendo tu experiencia!</p>
            <span class="cta-button primary disabled">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.5,12.92 20.16,13.19L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"/></svg>
                Dejar una rese√±a en Google Play
            </span>
            <p class="coming-soon-text">Pr√≥ximamente</p>
        </div>
    </section>

    <section class="contact-section" id="contact">
        <h2 class="section-title">Cont√°ctanos</h2>
        <p class="section-subtitle">¬øUna pregunta? ¬øUn problema? ¬°Estamos aqu√≠ para ayudarte!</p>
        <div class="contact-grid">
            <div class="contact-card" style="background: linear-gradient(135deg, rgba(74, 222, 128, 0.15), rgba(34, 211, 238, 0.08)); border-color: rgba(74, 222, 128, 0.4);" onclick="openModal('betaModal')">
                <span class="contact-card-icon">üöÄ</span>
                <span class="contact-card-title" style="color: var(--marble-green);">Unirse a la beta privada</span>
                <span class="contact-card-desc">¬°Obt√©n tu acceso ahora!</span>
            </div>
            <div class="contact-card" onclick="openModal('bugModal')">
                <span class="contact-card-icon">üêõ</span>
                <span class="contact-card-title">Reportar un bug</span>
                <a href="../issues.html" class="contact-card-link" onclick="event.stopPropagation()">Problemas conocidos</a>
            </div>
            <div class="contact-card" onclick="openModal('installModal')">
                <span class="contact-card-icon">üîß</span>
                <span class="contact-card-title">Problema de instalaci√≥n</span>
                <span class="contact-card-desc">Te ayudamos a instalar</span>
            </div>
            <div class="contact-card" onclick="openModal('questionModal')">
                <span class="contact-card-icon">‚ùì</span>
                <span class="contact-card-title">Pregunta sobre el juego</span>
                <span class="contact-card-desc">¬øNecesitas ayuda o informaci√≥n?</span>
            </div>
            <div class="contact-card" onclick="openModal('feedbackModal')">
                <span class="contact-card-icon">üí°</span>
                <span class="contact-card-title">Feedback / Sugerencia</span>
                <span class="contact-card-desc">¬°Tus ideas nos interesan!</span>
            </div>
            <div class="contact-card" onclick="openModal('otherModal')">
                <span class="contact-card-icon">üì©</span>
                <span class="contact-card-title">Otro</span>
                <span class="contact-card-desc">¬°Cu√©ntanos tu vida!</span>
            </div>
        </div>
    </section>

    <section class="about-section" id="about">
        <div class="accordion-container">
            <div class="accordion">
                <button class="accordion-header">
                    <span>üéÆ One Last Move Studio</span>
                    <span class="accordion-icon">+</span>
                </button>
                <div class="accordion-content studio-content">
                    <img src="../OLM banner.jpg" alt="One Last Move Studio" class="studio-banner">
                    <p>Detr√°s de este nombre est√°n todos esos jugadores con los ojos reventados y una sonrisa boba, que saben que son las 3 y pico de la madrugada, que ma√±ana curran, que hay que dejarlo ya... Pero... venga... solo... <strong>una... √∫ltima... jugada...</strong></p>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-studio">ONE LAST MOVE STUDIO</div>
        <div class="footer-links">
            <a href="#rules">Reglas del juego</a>
            <a href="../issues.html">Known Issues</a>
            <a href="privacy.html">Privacidad</a>
            <a href="#contact">Contacto</a>
        </div>
        <p class="footer-copy">¬© 2025 One Last Move Studio ‚Äî Marble5 est√° en desarrollo</p>
    </footer>

    <!-- Language Switcher -->
    <div class="lang-switcher">
        <a href="../index.html" class="lang-flag" title="Fran√ßais" onclick="localStorage.setItem('marble5-lang', 'fr')">FR</a>
        <a href="../en/index.html" class="lang-flag" title="English" onclick="localStorage.setItem('marble5-lang', 'en')">EN</a>
        <a href="#" class="lang-flag active" title="Espa√±ol" onclick="localStorage.setItem('marble5-lang', 'es'); return false;">ES</a>
        <a href="../de/index.html" class="lang-flag" title="Deutsch" onclick="localStorage.setItem('marble5-lang', 'de')">DE</a>
    </div>

    <!-- Modal Formulario Inscripci√≥n Beta -->
    <div class="modal-overlay" id="betaModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üîî Reservar mi lugar</h3>
                <button class="modal-close" onclick="closeModal('betaModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div id="betaFormMessage" class="form-message"></div>
                <form id="betaForm" onsubmit="submitBetaForm(event)">
                    <div class="form-group"><label>Nombre <span class="required">*</span></label><input type="text" name="prenom" class="form-input" placeholder="Tu nombre" required></div>
                    <div class="form-group"><label>Correo Gmail <span class="required">*</span></label><input type="email" name="email" class="form-input" placeholder="tu.cuenta@gmail.com" required><small style="color: var(--text-muted); font-size: 0.8rem; margin-top: 0.25rem; display: block;">La cuenta Google que usas en tu tel√©fono (para acceso a Google Play)</small></div>
                    <div class="form-group"><label>Modelo de dispositivo Android <span class="required">*</span></label><input type="text" name="appareil" class="form-input" placeholder="Ej: Samsung Galaxy S23, Pixel 7..." required></div>
                    <div class="form-group"><label>Versi√≥n Android</label><select name="version_android" class="form-select"><option value="">No lo s√©</option><option value="Android 9">Android 9</option><option value="Android 10">Android 10</option><option value="Android 11">Android 11</option><option value="Android 12">Android 12</option><option value="Android 13">Android 13</option><option value="Android 14">Android 14</option><option value="Android 15">Android 15</option><option value="Android 16">Android 16</option></select></div>
                    <div class="form-group"><label>¬øC√≥mo conociste Marble5? <span class="required">*</span></label><select name="source" class="form-select" required><option value="">Seleccionar...</option><option value="Amigo / conocido">Amigo / conocido</option><option value="Sitio web">Sitio web</option><option value="Redes sociales">Redes sociales</option><option value="Google / Play Store">Google / Play Store</option><option value="Otro">Otro</option></select></div>
                    <div class="form-group"><label>¬øEn qu√© plataformas juegas? <span class="required">*</span></label><div class="checkbox-group" id="platformsGroup"><label class="checkbox-item"><input type="checkbox" name="plateformes" value="Smartphone"><span>üì± Smartphone</span></label><label class="checkbox-item"><input type="checkbox" name="plateformes" value="PC"><span>üíª PC</span></label><label class="checkbox-item"><input type="checkbox" name="plateformes" value="Consola"><span>üéÆ Consola</span></label><label class="checkbox-item"><input type="checkbox" name="plateformes" value="Tablet"><span>üìü Tablet</span></label><label class="checkbox-item"><input type="checkbox" name="plateformes" value="Retro / Arcade"><span>üïπÔ∏è Retro</span></label><label class="checkbox-item"><input type="checkbox" name="plateformes" value="Cloud gaming"><span>‚òÅÔ∏è Cloud</span></label></div></div>
                    <div class="form-group"><label>¬øQu√© tipo de jugador eres? <span class="required">*</span></label><div class="profile-scale"><div class="scale-options" id="profileScale"><label class="scale-option"><input type="radio" name="profil_joueur" value="1" required><span class="scale-number">1</span><span class="scale-emoji">üò¥</span></label><label class="scale-option"><input type="radio" name="profil_joueur" value="2"><span class="scale-number">2</span><span class="scale-emoji">ü§î</span></label><label class="scale-option"><input type="radio" name="profil_joueur" value="3"><span class="scale-number">3</span><span class="scale-emoji">üôÇ</span></label><label class="scale-option"><input type="radio" name="profil_joueur" value="4"><span class="scale-number">4</span><span class="scale-emoji">üòé</span></label><label class="scale-option"><input type="radio" name="profil_joueur" value="5"><span class="scale-number">5</span><span class="scale-emoji">üéÆ</span></label></div><div class="scale-labels"><span>Casual</span><span>Hardcore</span></div></div></div>
                    <div class="form-group"><label>Texto libre</label><textarea name="texte_libre" class="form-textarea" placeholder="¬øUna pregunta, motivaci√≥n o mensaje para nosotros?"></textarea></div>
                    <button type="submit" class="form-submit" id="betaSubmitBtn">Enviar mi solicitud</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Bug -->
    <div class="modal-overlay" id="bugModal"><div class="modal-content"><div class="modal-header"><h3>üêõ Reportar un Bug</h3><button class="modal-close" onclick="closeModal('bugModal')">&times;</button></div><div class="modal-body"><div id="bugFormMessage" class="form-message"></div><form id="bugForm" onsubmit="submitGenericForm(event, 'bug')"><div class="form-group"><label>Email <span class="required">*</span></label><input type="email" name="email" class="form-input" placeholder="Para contactarte" required></div><div class="form-group"><label>Modelo de dispositivo <span class="required">*</span></label><input type="text" name="appareil" class="form-input" placeholder="Ej: Samsung Galaxy S23..." required></div><div class="form-group"><label>Versi√≥n Android</label><select name="version_android" class="form-select"><option value="">No lo s√©</option><option value="Android 9">Android 9</option><option value="Android 10">Android 10</option><option value="Android 11">Android 11</option><option value="Android 12">Android 12</option><option value="Android 13">Android 13</option><option value="Android 14">Android 14</option><option value="Android 15">Android 15</option><option value="Android 16">Android 16</option></select></div><div class="form-group"><label>¬øCu√°ndo ocurre el bug? <span class="required">*</span></label><select name="moment_bug" class="form-select" required><option value="">Seleccionar...</option><option value="Al iniciar">Al iniciar el juego</option><option value="En men√∫s">En los men√∫s</option><option value="Durante el juego">Durante el juego</option><option value="En nivel espec√≠fico">En un nivel espec√≠fico</option><option value="Aleatorio">Aleatoriamente</option><option value="Otro">Otro</option></select></div><div class="form-group"><label>Describe el bug <span class="required">*</span></label><textarea name="description" class="form-textarea" placeholder="Describe qu√© pasa..." required></textarea></div><button type="submit" class="form-submit" id="bugSubmitBtn">Enviar reporte</button></form></div></div></div>

    <!-- Modal Instalaci√≥n -->
    <div class="modal-overlay" id="installModal"><div class="modal-content"><div class="modal-header"><h3>üîß Problema de Instalaci√≥n</h3><button class="modal-close" onclick="closeModal('installModal')">&times;</button></div><div class="modal-body"><div id="installFormMessage" class="form-message"></div><form id="installForm" onsubmit="submitGenericForm(event, 'install')"><div class="form-group"><label>Email <span class="required">*</span></label><input type="email" name="email" class="form-input" placeholder="Para contactarte" required></div><div class="form-group"><label>Modelo de dispositivo <span class="required">*</span></label><input type="text" name="appareil" class="form-input" placeholder="Ej: Samsung Galaxy S23..." required></div><div class="form-group"><label>Versi√≥n Android</label><select name="version_android" class="form-select"><option value="">No lo s√©</option><option value="Android 9">Android 9</option><option value="Android 10">Android 10</option><option value="Android 11">Android 11</option><option value="Android 12">Android 12</option><option value="Android 13">Android 13</option><option value="Android 14">Android 14</option><option value="Android 15">Android 15</option><option value="Android 16">Android 16</option></select></div><div class="form-group"><label>¬øCu√°l es el problema? <span class="required">*</span></label><select name="type_probleme" class="form-select" required><option value="">Seleccionar...</option><option value="No puedo descargar">No puedo descargar</option><option value="Falla la instalaci√≥n">Falla la instalaci√≥n</option><option value="No inicia">El juego no inicia</option><option value="Pantalla negra">Pantalla negra</option><option value="Crash inmediato">Crash inmediato</option><option value="Otro">Otro</option></select></div><div class="form-group"><label>Mensaje de error</label><textarea name="description" class="form-textarea" placeholder="Copia el mensaje de error..."></textarea></div><button type="submit" class="form-submit" id="installSubmitBtn">Enviar</button></form></div></div></div>

    <!-- Modal Pregunta -->
    <div class="modal-overlay" id="questionModal"><div class="modal-content"><div class="modal-header"><h3>‚ùì Pregunta sobre el Juego</h3><button class="modal-close" onclick="closeModal('questionModal')">&times;</button></div><div class="modal-body"><div id="questionFormMessage" class="form-message"></div><form id="questionForm" onsubmit="submitGenericForm(event, 'question')"><div class="form-group"><label>Email <span class="required">*</span></label><input type="email" name="email" class="form-input" placeholder="Para responder" required></div><div class="form-group"><label>Tema <span class="required">*</span></label><select name="sujet" class="form-select" required><option value="">Seleccionar...</option><option value="Reglas">Reglas del juego</option><option value="Funcionalidades">Funcionalidades</option><option value="Disponibilidad">Disponibilidad (iOS, PC...)</option><option value="Cuenta / Progreso">Mi cuenta / progreso</option><option value="Otro">Otra pregunta</option></select></div><div class="form-group"><label>Tu pregunta <span class="required">*</span></label><textarea name="description" class="form-textarea" placeholder="Escribe tu pregunta..." required></textarea></div><button type="submit" class="form-submit" id="questionSubmitBtn">Enviar mi pregunta</button></form></div></div></div>

    <!-- Modal Feedback -->
    <div class="modal-overlay" id="feedbackModal"><div class="modal-content"><div class="modal-header"><h3>üí° Feedback / Sugerencia</h3><button class="modal-close" onclick="closeModal('feedbackModal')">&times;</button></div><div class="modal-body"><div id="feedbackFormMessage" class="form-message"></div><form id="feedbackForm" onsubmit="submitGenericForm(event, 'feedback')"><div class="form-group"><label>Email</label><input type="email" name="email" class="form-input" placeholder="Opcional - si quieres respuesta"></div><div class="form-group"><label>Tipo de feedback <span class="required">*</span></label><select name="type_feedback" class="form-select" required><option value="">Seleccionar...</option><option value="Me encanta">¬°Me encanta algo!</option><option value="Sugerencia">Tengo una sugerencia</option><option value="Mejora">Algo a mejorar</option><option value="Nuevo nivel">Idea de nivel / tema</option><option value="Otro">Otro</option></select></div><div class="form-group"><label>Tu mensaje <span class="required">*</span></label><textarea name="description" class="form-textarea" placeholder="Comparte tus ideas..." required></textarea></div><button type="submit" class="form-submit" id="feedbackSubmitBtn">Enviar mi feedback</button></form></div></div></div>

    <!-- Modal Otro -->
    <div class="modal-overlay" id="otherModal"><div class="modal-content"><div class="modal-header"><h3>üì© Otra Consulta</h3><button class="modal-close" onclick="closeModal('otherModal')">&times;</button></div><div class="modal-body"><div id="otherFormMessage" class="form-message"></div><form id="otherForm" onsubmit="submitGenericForm(event, 'other')"><div class="form-group"><label>Email <span class="required">*</span></label><input type="email" name="email" class="form-input" placeholder="Para contactarte" required></div><div class="form-group"><label>Asunto <span class="required">*</span></label><input type="text" name="sujet" class="form-input" placeholder="¬øDe qu√© quieres hablar?" required></div><div class="form-group"><label>Tu mensaje <span class="required">*</span></label><textarea name="description" class="form-textarea" placeholder="Cu√©ntanos..." required></textarea></div><button type="submit" class="form-submit" id="otherSubmitBtn">Enviar</button></form></div></div></div>

    <script>
        // Accordions
        document.querySelectorAll('.accordion-header').forEach(button => {
            button.addEventListener('click', () => {
                const accordion = button.parentElement;
                accordion.classList.toggle('active');
            });
        });

        // Gallery Carousel
        const expandBtn = document.getElementById('expandGalleryBtn');
        const carouselSection = document.getElementById('galleryCarousel');
        const carouselImages = document.querySelectorAll('.carousel-screen img');
        const dotsContainer = document.getElementById('carouselDots');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const carouselLabel = document.getElementById('carouselLabel');
        let currentIndex = 0;

        // Create dots
        carouselImages.forEach((_, i) => {
            const dot = document.createElement('button');
            dot.classList.add('carousel-dot');
            if (i === 0) dot.classList.add('active');
            dot.addEventListener('click', () => goToSlide(i));
            dotsContainer.appendChild(dot);
        });
        const dots = document.querySelectorAll('.carousel-dot');

        function updateCarousel() {
            carouselImages.forEach((img, i) => {
                img.classList.toggle('active', i === currentIndex);
            });
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === currentIndex);
            });
            carouselLabel.textContent = carouselImages[currentIndex].dataset.theme;
        }

        function goToSlide(index) {
            currentIndex = index;
            updateCarousel();
        }

        function nextSlide() {
            currentIndex = (currentIndex + 1) % carouselImages.length;
            updateCarousel();
        }

        function prevSlide() {
            currentIndex = (currentIndex - 1 + carouselImages.length) % carouselImages.length;
            updateCarousel();
        }

        expandBtn.addEventListener('click', () => {
            expandBtn.classList.toggle('active');
            carouselSection.classList.toggle('active');
            expandBtn.querySelector('span') || (expandBtn.innerHTML = expandBtn.classList.contains('active')
                ? 'Cerrar galer√≠a <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>'
                : 'Ver m√°s fondos <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>');
        });

        prevBtn.addEventListener('click', prevSlide);
        nextBtn.addEventListener('click', nextSlide);

        // MODAL & FORM HANDLING
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxGxSXKYtkzycAgAwQH7z680L3pVBbNcvajHaiRy94wWsO5dfm0eVBTHyFSnqIDzifK/exec';

        // CONTADOR DE PLAZAS
        async function loadPlacesCounter() {
            const counterEl = document.getElementById('places-counter');
            if (!counterEl) return;
            try {
                const response = await fetch(GOOGLE_SCRIPT_URL);
                const data = await response.json();
                if (data.restantes !== undefined) {
                    if (data.restantes > 0) {
                        counterEl.innerHTML = `üî• ¬°Solo quedan <strong>${data.restantes}</strong> plazas!`;
                    } else {
                        counterEl.innerHTML = '‚ùå Completo';
                    }
                } else {
                    counterEl.textContent = '100 plazas';
                }
            } catch (error) {
                counterEl.textContent = '100 plazas';
            }
        }
        document.addEventListener('DOMContentLoaded', loadPlacesCounter);

        function openModal(modalId) { document.getElementById(modalId).classList.add('active'); document.body.style.overflow = 'hidden'; }
        function closeModal(modalId) { const modal = document.getElementById(modalId); const overlay = modal.querySelector('.modal-success-overlay'); if (overlay) overlay.remove(); modal.classList.remove('active'); document.body.style.overflow = ''; }
        function showSuccessAndClose(modalId, text = '¬°Enviado!') { const modal = document.getElementById(modalId); const content = modal.querySelector('.modal-content'); const overlay = document.createElement('div'); overlay.className = 'modal-success-overlay'; overlay.innerHTML = `<span class="success-icon">‚úÖ</span><span class="success-text">${text}</span>`; content.style.position = 'relative'; content.appendChild(overlay); setTimeout(() => closeModal(modalId), 2000); }
        document.querySelectorAll('.modal-overlay').forEach(modal => { modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(modal.id); }); });
        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { document.querySelectorAll('.modal-overlay.active').forEach(modal => { closeModal(modal.id); }); } });
        document.querySelectorAll('.checkbox-item input').forEach(checkbox => { checkbox.addEventListener('change', () => { checkbox.parentElement.classList.toggle('checked', checkbox.checked); }); });
        document.querySelectorAll('.scale-option input').forEach(radio => { radio.addEventListener('change', () => { document.querySelectorAll('.scale-option').forEach(opt => opt.classList.remove('selected')); radio.parentElement.classList.add('selected'); }); });

        async function submitBetaForm(event) {
            event.preventDefault();
            const form = document.getElementById('betaForm'), submitBtn = document.getElementById('betaSubmitBtn'), messageDiv = document.getElementById('betaFormMessage');
            const platformsChecked = form.querySelectorAll('input[name="plateformes"]:checked');
            if (platformsChecked.length === 0) { messageDiv.className = 'form-message error'; messageDiv.textContent = 'Por favor selecciona al menos una plataforma.'; return; }
            submitBtn.disabled = true; submitBtn.textContent = 'Enviando...'; messageDiv.className = 'form-message'; messageDiv.style.display = 'none';
            const formData = new FormData(form);
            const data = { type: 'inscription_beta', date: new Date().toLocaleString('es-ES'), prenom: formData.get('prenom'), email: formData.get('email'), appareil: formData.get('appareil'), version_android: formData.get('version_android') || 'No especificado', source: formData.get('source'), plateformes: Array.from(platformsChecked).map(cb => cb.value).join(', '), profil_joueur: formData.get('profil_joueur'), texte_libre: formData.get('texte_libre') || '' };
            try { await fetch(GOOGLE_SCRIPT_URL, { method: 'POST', mode: 'no-cors', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(data) }); form.reset(); document.querySelectorAll('.checkbox-item').forEach(item => item.classList.remove('checked')); document.querySelectorAll('.scale-option').forEach(opt => opt.classList.remove('selected')); showSuccessAndClose('betaModal', '¬°Enviado!'); } catch (error) { messageDiv.className = 'form-message error'; messageDiv.textContent = 'Ha ocurrido un error. Por favor intenta de nuevo.'; }
            submitBtn.disabled = false; submitBtn.textContent = 'Enviar mi solicitud';
        }

        async function submitGenericForm(event, formType) {
            event.preventDefault();
            const formConfigs = { bug: { formId: 'bugForm', btnId: 'bugSubmitBtn', msgId: 'bugFormMessage', modalId: 'bugModal', type: 'bug_report', successMsg: 'üêõ ¬°Gracias por tu reporte! Lo investigaremos.', btnText: 'Enviar reporte' }, install: { formId: 'installForm', btnId: 'installSubmitBtn', msgId: 'installFormMessage', modalId: 'installModal', type: 'probleme_installation', successMsg: 'üîß ¬°Mensaje recibido! Responderemos pronto.', btnText: 'Enviar' }, question: { formId: 'questionForm', btnId: 'questionSubmitBtn', msgId: 'questionFormMessage', modalId: 'questionModal', type: 'question', successMsg: '‚ùì ¬°Pregunta enviada! Responderemos pronto.', btnText: 'Enviar mi pregunta' }, feedback: { formId: 'feedbackForm', btnId: 'feedbackSubmitBtn', msgId: 'feedbackFormMessage', modalId: 'feedbackModal', type: 'feedback', successMsg: 'üí° ¬°Gracias por tu feedback!', btnText: 'Enviar mi feedback' }, other: { formId: 'otherForm', btnId: 'otherSubmitBtn', msgId: 'otherFormMessage', modalId: 'otherModal', type: 'autre', successMsg: 'üì© ¬°Mensaje enviado!', btnText: 'Enviar' } };
            const config = formConfigs[formType], form = document.getElementById(config.formId), submitBtn = document.getElementById(config.btnId), messageDiv = document.getElementById(config.msgId);
            submitBtn.disabled = true; submitBtn.textContent = 'Enviando...'; messageDiv.className = 'form-message'; messageDiv.style.display = 'none';
            const formData = new FormData(form); const data = { type: config.type, date: new Date().toLocaleString('es-ES') }; for (let [key, value] of formData.entries()) { data[key] = value || ''; }
            try { await fetch(GOOGLE_SCRIPT_URL, { method: 'POST', mode: 'no-cors', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(data) }); form.reset(); showSuccessAndClose(config.modalId, '¬°Enviado!'); } catch (error) { messageDiv.className = 'form-message error'; messageDiv.textContent = 'Ha ocurrido un error. Por favor intenta de nuevo.'; }
            submitBtn.disabled = false; submitBtn.textContent = config.btnText;
        }

        document.querySelectorAll('.contact-card').forEach(card => { card.addEventListener('click', (e) => { e.preventDefault(); const href = card.getAttribute('href'); if (href.includes('Bug')) openModal('bugModal'); else if (href.includes('Instalaci√≥n') || href.includes('instalaci')) openModal('installModal'); else if (href.includes('Pregunta')) openModal('questionModal'); else if (href.includes('Feedback')) openModal('feedbackModal'); else if (href.includes('Otro') || href.includes('Otra')) openModal('otherModal'); else if (href.includes('Beta') || href.includes('beta')) openModal('betaModal'); }); });

        // Sticky Header
        const stickyHeader = document.getElementById('stickyHeader');
        const langSwitcher = document.querySelector('.lang-switcher');
        let lastScroll = 0;
        const heroHeight = document.querySelector('.hero').offsetHeight;

        window.addEventListener('scroll', () => {
            const currentScroll = window.pageYOffset;
            if (currentScroll > heroHeight * 0.7) {
                stickyHeader.classList.add('visible');
                if (langSwitcher) langSwitcher.classList.add('hidden');
            } else {
                stickyHeader.classList.remove('visible');
                if (langSwitcher) langSwitcher.classList.remove('hidden');
            }
            lastScroll = currentScroll;
        });
    </script>
</body>
</html>
